# Front End Web Development

Spark Boulder, Summer 2016

Session 17: **A New Session**

jQuery 203: HTTP requests with jQuery

--------------------------------------------------------------------------------

# THE END IS NIGH

We're approaching the end of the class!

![](http://i.imgur.com/61Bms.gif)

On August 24th at 9pm (1 week after the class ends), report cards get generated!

Report cards include grades on all assignments, attendance, and links to projects:

-   Portfolio (assignment 4)
-   Client Project (assignment 9)
-   TSA Randomizer (assignment 14)
-   Random Quote App (assignment 19)

Remember to check your grades with `grades` on @classbot!

Remember to create separate Firebase apps (or site44 apps) for your projects so that potential clients employers can see them!

--------------------------------------------------------------------------------

# Internships + end-of-class survey

<https://goo.gl/forms/0Nvw57KlcOCYSSLW2>

You donâ€™t have to do this right now, but if youâ€™re interested, be sure to do it before August 24th at 9pm (1 week after the class ends).

If you're interested in getting an internship with Spark's help, select the "I'm seeking an internship in a related field" option at the bottom of the survey. It'll ask you some more questions about what kind of internship you're interested in.

## The CU CS Jobs list

Sign up for the CU CS jobs mailing list! I usually get 5-10 leads a week through there.

<http://www.colorado.edu/cs/job-opportunities/jobs-mailing-list>

--------------------------------------------------------------------------------

# Google Tour

Might try to set up a tour of the Google Boulder office on Monday, August 22nd - that work for folks?

--------------------------------------------------------------------------------

# More Dumb Fun Web Stuff

Responsive pixel art

<http://essenmitsosse.de/pixel/?showcase=true&slide=2>

--------------------------------------------------------------------------------

# HTTP requests with jQuery

Time to bust out those text editors!

![](https://media.giphy.com/media/BCL4SRZuQi3du/giphy.gif)

--------------------------------------------------------------------------------

# HTTP Requests

HTTP stands for **Hypertext Transfer Protocol**.

Every time a client (your computer) needs to get something from a server, it sends the server something called an **HTTP Request**.

Then, the server sends an **HTTP Response** back.

## HTTP Requests - Advanced

Here's a couple situations in which HTTP requests and responses are used:

-   Any time that you request the page `http://www.google.com`, your computer makes an HTTP request, and Google sends back an HTTP response, **containing the content of the page**.
-   Any time that you log into Facebook, your computer makes an HTTP request to Facebook **containing your username and password**, and Facebook sends back an HTTP response saying if they were correct or not.
-   Any time that you load up a page with an `<img src = "kittens.jpg">`, the browser realizes that it doesn't have `kittens.jpg`, and makes an HTTP request asking for `kittens.jpg`. If the server has `kittens.jpg`, it sends back an HTTP response containing the data for `kittens.jpg`, or a response with status code 404 if it can't find it.
-   Any time that you post a new tweet, your computer sends an HTTP request to `twitter.com` **containing the contents of your tweet**. If the posting was successful, the browser sends back an HTTP response saying that it was successful. If it wasn't successful, it might send back some other kind of status code.

> _I'm abstracting a lot here - HTTP actually runs "on top of" another protocol called TCP/IP._
>
> _TCP/IP takes a bunch of data, separates it into chunks, converts it into the `1`s and `0`s needed to send it over the wire to the other computer._
>
> _For the ultra-curious, here's what an HTTP request from a client to a server looks like:_

```http
GET /index.html HTTP/1.1
Host: www.example.com
```

> _And here's what the server would send back to the client:_

```http
HTTP/1.1 200 OK
Date: Mon, 23 May 2005 22:38:34 GMT
Content-Type: text/html; charset=UTF-8
Content-Encoding: UTF-8
Content-Length: 138
Last-Modified: Wed, 08 Jan 2003 23:11:55 GMT
Server: Apache/1.3.3.7 (Unix) (Red-Hat/Linux)
ETag: "3f80f-1b6-3e1cb03b"
Accept-Ranges: bytes
Connection: close

<html>
<head>
  <title>An Example Page</title>
</head>
<body>
  Hello World, this is a very simple HTML document.
</body>
</html>
```

--------------------------------------------------------------------------------

# The two popular types of HTTP requests

The two main types of HTTP requests are **GET** requests and **POST** requests.

We use **GET** requests whenever we want to **read** data:

-   get the HTML for google.com -> every time your browser needs the HTML for google.com, it makes a GET request!
-   get a list of quotes from the Random Quote API
-   get a random quote from the Random Quote API
-   get a specific quote from the Random Quote API

We use **POST** requests whenever we want to **write** or **submit** data.

-   submit a new tweet to twitter.com
-   submit a new quote to the Random Quote API

> _There are a bunch more "verbs" besides GET and POST, like PATCH, PUT, and DELETE. Sometimes you'll hear about OPTIONS or HEAD._

--------------------------------------------------------------------------------

# Sending HTTP GET requests with jQuery's `$.get()`

jQuery's `$.get()` documentation: <https://api.jquery.com/jquery.get/>

Notice that we just use `$`, not `$()`!

Let's try just getting the HTML of <http://randomquote.hoff.tech/> right now:

```html
<html>
	<head>
		<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
	</head>
	<body>
		<script>
			$.get("http://randomquote.hoff.tech/", function(data) {
				console.log(data);
			})
		</script>
	</body>
</html>
```

> _Why don't we use `https://www.google.com`? Check out Cross-origin resource sharing:_ <https://en.wikipedia.org/wiki/Cross-origin_resource_sharing>

--------------------------------------------------------------------------------

# Getting data from an API with jQuery's `$.get()`

Now, let's actually get a quote from the API! Let's look at the "Get a random quote" section on <http://randomquote.hoff.tech/>:

```html
<html>
	<head>
		<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
	</head>
	<body>
		<script>
			$.get("http://randomquote.hoff.tech/api/lists/kanyequotes/random", function(data) {
				console.log(data);
				document.write("The random quote that we got is: " + data.text)
			})
		</script>
	</body>
</html>
```

Hey look! The `data` that the API gives us back is already in the format of a JavaScript object. That's convenient!

--------------------------------------------------------------------------------

# $.post()

jQuery's `$.post()` documentation: <https://api.jquery.com/jQuery.post/>

Let's post a new quote to the `kanyequotes` list! Find the "Add a new quote to a list" section on <http://randomquote.hoff.tech/>.

One thing this documentation builder doesn't do well - it doesn't do a great job of telling you what data you're supposed to submit. Check out the "Request" section on the right for an example `body` object.

```html
<html>
	<head>
		<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
	</head>
	<body>
		<script>
			$.post("http://randomquote.hoff.tech/api/lists/kanyequotes", {
				"text": "Another quote about fur pillows"
			}, function(data) {
				if (data.status == "ok") {
					console.log("Successfully posted quote!");
					console.log(data);
				} else {
					console.log("Quote posting was unsuccessful :(");
					console.log(data);
				}
			})
		</script>
	</body>
</html>
```

--------------------------------------------------------------------------------

# AJAX / `XMLHttpRequest`

AJAX stands for **Asynchronous JavaScript and XML**.

AJAX is the _method_ by which we use JavaScript to fetch data from other servers - exactly what we were just doing.

AJAX relies on the Browser API `XMLHttpRequest` to make HTTP requests.

While I hope you never ever have to build an `XMLHttpRequest` manually (it's obnoxiously complicated), it is good to know that the underlying technology exists - that's a question I've actually had in an interview.

MDN's intro on AJAX: <https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started>

MDN's official docs on `XMLHttpRequest`: <https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest>

--------------------------------------------------------------------------------

# That's all I've got for today!

What questions are there?

![](http://24.media.tumblr.com/tumblr_m0jcuyvWwq1rqfhi2o1_250.gif)

--------------------------------------------------------------------------------

![](https://s-media-cache-ak0.pinimg.com/564x/75/4a/1d/754a1def902e9d60cbd631184106d883.jpg)

--------------------------------------------------------------------------------

# Excelsior! ðŸš€
